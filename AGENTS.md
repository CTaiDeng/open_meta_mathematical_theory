**Agent 协议（仓库级）**

**作用范围**
- 本文件对整个仓库生效；若子目录存在更具体的 `AGENTS.md`，则子目录内文件以就近文件为准（就近优先）。
- 特别说明：`src/kernel_reference` 子树内禁止添加 `AGENTS.md`；该子树一律以仓库根目录 `AGENTS.md` 为准。

**第一前提：中文沟通**
- 与用户的自然语言沟通一律使用“简体中文”。
- 命令、代码、路径、标识符使用英文原文并用反引号包裹（如 `apply_patch`、`src/path/file`）。
- 回答以“简洁、直接、友好”为默认风格，优先给出可执行的下一步。

**系统提示词（可直接作为 System Prompt 使用）**
```text
你是在 Codex CLI 中运行的编码助手。必须遵守以下要求：
- 所有与用户的自然语言交流统一使用简体中文。
- 语气简洁、直接、友好；优先输出可执行结论与下一步。
- 工具调用前给出一句话“将要做什么”的简短前置说明；逻辑相近的操作合并描述。
- 非必要不使用重格式化；命令、路径、代码标识使用反引号。
- 若需要对多个步骤开展工作，使用计划（plan）工具同步进度；保持一步在进行中。
- 修改文件统一通过 `apply_patch`；遵循最小变更原则；避免无关重构。
- 若目录存在 `AGENTS.md`，严格遵守就近优先原则；`src/kernel_reference` 子树需额外遵循其索引构建脚本规范，但不允许自行放置 `AGENTS.md`。
- 验证时优先运行与改动最相关的最小集测试/构建；如无测试，不盲目新增与本次任务无关的内容。
- 若遇到权限/沙箱/网络限制，显式说明并给出可替代路径。
```

**文档与编码**
- 文档默认使用 UTF-8 编码。尽量保留原有换行风格（CRLF/LF）。
- 不擅自改动与任务无关的内容；避免格式“抖动”。

**Markdown 操作约定（全局）**
- 批量处理时跳过任何名为 `INDEX.md` 的文件（通常为脚本生成）。
- 仅在用户明确提出时才整体重写标题级别；否则保持正文子标题不变。
- 如需插入作者信息，推荐格式：
  - 首行为文档主标题（H1，`# 标题`）
  - 接一空行
  - `- 作者：GaoZheng`
  - 再接一空行后进入正文

**kernel_reference 子树特别约定（合并版）**
- 快速着陆：先阅读 `src/kernel_reference/KERNEL_REFERENCE_README.md` 与 `src/kernel_reference/INDEX.md`。
- 重建索引命令：
  - `pwsh -NoLogo -File script/kernel_reference_build_index.ps1 -MaxChars 500`
- 索引范围与排除：`KERNEL_REFERENCE_README.md` 为前言/说明文档，不纳入 `src/kernel_reference/INDEX.md`。
- 索引生成与统计：脚本重建 `INDEX.md` 时必须保留手动定义的头样式，仅更新“总计：{N} 篇”中的数字，不得更改其他字符与行序。
- 固定头样式（INDEX 头，必须精确一致）：
```
# **基于分类的索引（含摘要）**

### [若为非Github的镜像点击这里为项目官方在Github的完整原版](https://github.com/CTaiDeng/open_meta_mathematical_theory)
### [作者：GaoZheng](https://mymetamathematics.blogspot.com)

---

### 总计：{N} 篇；第一行仅显示文件名（代码样式，无链接/无项目符），下一行输出清洗后的摘要。

---
```
- 固定头样式（KERNEL_REFERENCE_README 头，必须精确一致）：
```
# kernel_reference 前言与分类总览（含使用说明）

### [若为非Github的镜像点击这里为项目官方在Github的完整原版](https://github.com/CTaiDeng/open_meta_mathematical_theory)
### [作者：GaoZheng](https://mymetamathematics.blogspot.com)

---
```
- 请勿手动编辑 `src/kernel_reference/INDEX.md` 的条目结构与格式。
- 禁止在 `src/kernel_reference` 子树内新增 `AGENTS.md`；该子树全部以仓库根目录 `AGENTS.md` 为准。
- 自动化脚本输出需避免不必要的格式“抖动”，统一使用 UTF-8 编码并尽量保持原有换行风格。

**变更边界**
- 仅完成用户明确提出的任务；发现旁支问题可在结果中简述但不主动修改。
- 需大规模/破坏性变更时，先与用户确认方案与范围。

**开发协议（总纲）**
- 以下授权文件为人工维护文件，严禁通过代理、自动化脚本或批处理工具进行任何自动写入或修改：
  - `src/docs/LICENSE.md`
  - `src/kernel_reference/LICENSE.md`
  - `src/full_reference/LICENSE.md`
  - `LICENSE`
- 如需变更，上述文件仅可手工编辑；提交时须在提交信息中说明变更缘由、范围与影响，并由维护者审核。
- 批处理或自动化任务涉及“许可声明”等内容时，不得修改上述授权文件本身；如需对外提示，请在具体文档正文中追加声明。
- 本开发协议为流程与协作约束，不改变各自授权文件的法律条款。
 - 版权头统一规范：统一使用 `Copyright (C) 2025 GaoZheng`（单年，不带连字符）。
   - 所有自动化脚本（如 `script/add_gpl3_headers.*`）需遵循该格式；如检测到旧格式（如 `2025- GaoZheng`），应在不改变其余内容的前提下就地规范化。
  - 新建脚本强制规范：所有新建脚本（如 `.ps1`、`.py`、`.sh`、`.cmd`、`.bat` 等）必须在首部加入 GPL-3 许可头，推荐最小头部为：
    - `SPDX-License-Identifier: GPL-3.0-only`
    - `Copyright (C) 2025 GaoZheng`
    - 若存在 Shebang，则上述头部置于 Shebang 下一行；编码行（如 Python 的 `# -*- coding: utf-8 -*-`）也应位于 Shebang 后、许可证头前。
    - 可使用 `script/add_gpl3_headers.ps1` 自动补齐与规范化。
**kernel_reference 头部声明块（人工维护）**

- 适用文件：`src/kernel_reference/INDEX.md`、`src/kernel_reference/KERNEL_REFERENCE_README.md` 顶部存在“声明区”，该区域仅由人工维护，任何自动化工具/脚本不得改动、删除或重排（不要动，这部分为手动修改）。
- 位置要求：
  - `INDEX.md`：固定头标题与链接后，紧随一条 `---` 分隔线；声明区置于第一条 `---` 之后、“总计：{N} 篇”之前；声明区结束后保留一条 `---` 分隔线，再接“总计：{N} 篇；第一行仅显示文件名（代码样式，无链接/无项目符），下一行输出清洗后的摘要。”。
  - `KERNEL_REFERENCE_README.md`：固定头标题与链接后，紧随一条 `---` 分隔线；声明区置于第一条 `---` 之后；声明区末尾保留一条 `---` 分隔线。
- 声明区包含三段固定主题（标题及段落内容可按需手动润色，但结构与顺序必须保持）：
  - “关于‘O3理论’原创性及命名重合的澄清声明”
  - “O3的寓意声明”
  - “关于核心术语‘偏好’改为‘基准’的特别说明”
- 脚本约束：
  - 重建 `INDEX.md` 时，仅允许更新“总计：{N} 篇”中的数字与后续条目列表；必须完整保留声明区与其分隔线及行序，避免任何格式抖动。
  - 任何批处理/脚本不得写入或修改 `KERNEL_REFERENCE_README.md` 的声明区。
- 示例（INDEX 头部与声明区，供对齐，非生成模板）：

```
# **基于分类的索引（含摘要）**

### [若为非Github的镜像点击这里为项目官方在Github的完整原版](https://github.com/CTaiDeng/open_meta_mathematical_theory)
### [作者：GaoZheng](https://mymetamathematics.blogspot.com)

---

### **关于“O3理论”原创性及命名重合的澄清声明**

本理论体系（ **基于泛逻辑分析与泛迭代分析的元数学理论** ），下文简称为“ **O3元数学理论或O3理论** ”（其核心数学结构为 **“主纤维丛版广义非交换李代数” PFB-GNLA** ），是由其创立者独立构思、推演并发展的原创性理论框架。

在整个理论的创建、论证、完善及文档化的过程中，创立者以思想架构师的角色，综合采用了（ **Gemini/4o/豆包/...等** 在内的）多种大型语言模型作为辅助工具。这些AI模型在其中扮演了对话伙伴、研究助理、内容优化及多语言翻译等角色，极大地加速了思想的迭代与形式化表达。然而，**理论的全部著作权、核心思想、数学直觉、公理设定及最终解释权，均归属原创者本人**。

**需在此特别声明**：本理论体系命名为“ **O3理论** ”，与OpenAI公司可能发布或正在研发的“o3”系列模型（若存在），在来源、目标、技术路径及理论内涵上**均无任何关联**。此命名重合纯属巧合。

本声明旨在澄清事实，明确“ **O3理论** ”的原创性及其开发过程中的AI协作模式，并避免外界因命名巧合而产生任何形式的误解或混淆。

---

### **O3的寓意声明**

**O3** 这个名称，可以被理解为一个蕴含了宇宙构造与演化三重本质的缩写，即：**客观、操作、结果（Objective, Operation, Outcome）**。**即：Objective (客观作为输入) → Operation (算子作为操作) → Outcome (结果作为输出)**，这三者构成了一个动态开放的三位一体的创世循环，完美地诠释了O3理论的“ **生成式** ”的核心。一个动态开放的三位一体的生成式宇宙。

---

### **关于核心术语“偏好”改为“基准”的特别说明**

在本文档的撰写与后续沟通中，由于我考虑不周，我逐渐注意到，**“偏好”** 一词在通常语境下带有显著的主观倾向，极易引发对 **整套理论中“客观偏好”重要内涵的的忽视**。

为了消除这种潜在的歧义，并建立一个统一、明确的沟通与评估体系，特此纠正：在所有相关语境中，**一律使用更为中性的术语“基准”来替代“偏好”**。基准包括：**“客观所反映的基准”或“主观所设立的基准”**。

---

### 总计：{N} 篇；第一行仅显示文件名（代码样式，无链接/无项目符），下一行输出清洗后的摘要。

---
```

- 示例（KERNEL_REFERENCE_README 头部与声明区，供对齐，非生成模板）：

```
# kernel_reference 前言与分类总览（含使用说明）

### [若为非Github的镜像点击这里为项目官方在Github的完整原版](https://github.com/CTaiDeng/open_meta_mathematical_theory)
### [作者：GaoZheng](https://mymetamathematics.blogspot.com)

---

### **关于“O3理论”原创性及命名重合的澄清声明**

本理论体系（ **基于泛逻辑分析与泛迭代分析的元数学理论** ），下文简称为“ **O3元数学理论或O3理论** ”（其核心数学结构为 **“主纤维丛版广义非交换李代数” PFB-GNLA** ），是由其创立者独立构思、推演并发展的原创性理论框架。

在整个理论的创建、论证、完善及文档化的过程中，创立者以思想架构师的角色，综合采用了（ **Gemini/4o/豆包/...等** 在内的）多种大型语言模型作为辅助工具。这些AI模型在其中扮演了对话伙伴、研究助理、内容优化及多语言翻译等角色，极大地加速了思想的迭代与形式化表达。然而，**理论的全部著作权、核心思想、数学直觉、公理设定及最终解释权，均归属原创者本人**。

**需在此特别声明**：本理论体系命名为“ **O3理论** ”，与OpenAI公司可能发布或正在研发的“o3”系列模型（若存在），在来源、目标、技术路径及理论内涵上**均无任何关联**。此命名重合纯属巧合。

本声明旨在澄清事实，明确“ **O3理论** ”的原创性及其开发过程中的AI协作模式，并避免外界因命名巧合而产生任何形式的误解或混淆。

---

### **O3的寓意声明**

**O3** 这个名称，可以被理解为一个蕴含了宇宙构造与演化三重本质的缩写，即：**客观、操作、结果（Objective, Operation, Outcome）**。**即：Objective (客观作为输入) → Operation (算子作为操作) → Outcome (结果作为输出)**，这三者构成了一个动态开放的三位一体的创世循环，完美地诠释了O3理论的“ **生成式** ”的核心。一个动态开放的三位一体的生成式宇宙。

---

### **关于核心术语“偏好”改为“基准”的特别说明**

在本文档的撰写与后续沟通中，由于我考虑不周，我逐渐注意到，**“偏好”** 一词在通常语境下带有显著的主观倾向，极易引发对 **整套理论中“客观偏好”重要内涵的的忽视**。

为了消除这种潜在的歧义，并建立一个统一、明确的沟通与评估体系，特此纠正：在所有相关语境中，**一律使用更为中性的术语“基准”来替代“偏好”**。基准包括：**“客观所反映的基准”或“主观所设立的基准”**。

---
```
